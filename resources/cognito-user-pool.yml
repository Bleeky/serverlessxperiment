Resources:
  CognitoUserPool:
    Type: AWS::Cognito::UserPool
    Properties:
      # Generate a name based on the stage
      UserPoolName: ${self:custom.stage}-user-pool
      # Set email as an alias
      UsernameAttributes:
        - email
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage:
        - "&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot; xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&gt;&lt;head&gt; &lt;!--[if gte mso 9]&gt; &lt;xml&gt; &lt;o:OfficeDocumentSettings&gt; &lt;o:AllowPNG/&gt; &lt;o:PixelsPerInch&gt;96&lt;/o:PixelsPerInch&gt; &lt;/o:OfficeDocumentSettings&gt; &lt;/xml&gt; &lt;![endif]--&gt;&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot; /&gt;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;&lt;meta name=&quot;format-detection&quot; content=&quot;date=no&quot; /&gt;&lt;meta name=&quot;format-detection&quot; content=&quot;address=no&quot; /&gt;&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot; /&gt;&lt;meta name=&quot;x-apple-disable-message-reformatting&quot; /&gt; &lt;!--[if !mso]&gt;&lt;!--&gt;&lt;link href=&quot;https://fonts.googleapis.com/css?family=Yantramanav:300,400,500,700&quot; rel=&quot;stylesheet&quot; /&gt; &lt;!--&lt;![endif]--&gt;&lt;title&gt;Email Template&lt;/title&gt; &lt;!--[if gte mso 9]&gt;&lt;style type=&quot;text/css&quot; media=&quot;all&quot;&gt;sup{font-size:100% !important}&lt;/style&gt;&lt;![endif]--&gt;&lt;style type=&quot;text/css&quot; media=&quot;screen&quot;&gt;body{background:#f4f4f4;display:block !important;margin:0 !important;min-width:100% !important;padding:0 !important;-webkit-text-size-adjust:none;width:100% !important}a{color:#2f774a;text-decoration:none}p{margin:0 !important;padding:0 !important}@media only screen and (max-device-width: 480px), only screen and (max-width: 480px){u + .body .gwfw{width:100% !important;width:100vw !important}.m-shell{min-width:100% !important;width:100% !important}.m-center{text-align:center !important}.center{margin:0 auto !important}.nav{text-align:center !important}.text-top{line-height:22px !important}.td{min-width:100% !important;width:100% !important}.bg{-webkit-background-size:cover !important;background-size:cover !important;height:auto !important}.p0-15-30{padding:0px 15px 30px 15px !important}.pb40{padding-bottom:40px !important}.pb0{padding-bottom:0px !important}.column,.column-bottom,.column-dir-top,.column-dir-bottom{display:block !important;float:left !important;width:100% !important}.content-spacing{width:15px !important}}&lt;/style&gt;&lt;/head&gt;&lt;body class=&quot;body&quot; style=&quot; background:#f4f4f4; display:block !important; margin:0 !important; min-width:100% !important;padding:0 !important; -webkit-text-size-adjust:none; width:100% !important;&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; bgcolor=&quot;#f4f4f4&quot; class=&quot;gwfw&quot;&gt;&lt;tr&gt;&lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tr&gt;&lt;td align=&quot;center&quot; style=&quot;padding-bottom: 40px; padding-top: 40px;&quot; class=&quot;pb0&quot;&gt;&lt;table width=&quot;650&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; class=&quot;m-shell&quot;&gt;&lt;tr&gt;&lt;td class=&quot;td&quot; style=&quot; font-size:0pt; font-weight:normal; line-height:0pt; margin:0; min-width:650px; padding:0;width:650px;&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; bgcolor=&quot;#ffffff&quot; style=&quot;border-radius: 6px 6px 6px 0px;&quot;&gt;&lt;tr&gt;&lt;td style=&quot;padding: 40px&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tr&gt;&lt;th class=&quot;column&quot; width=&quot;118&quot; style=&quot;font-size:0pt; font-weight:normal; line-height:0pt; margin:0; padding:0;&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tr&gt;&lt;td class=&quot;img m-center&quot; style=&quot; align-items: center; display: flex;font-size:0pt; line-height:0pt; text-align:left;&quot;&gt; &lt;svg width=&quot;50&quot; height=&quot;50&quot; viewBox=&quot;0 0 50 50&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt; &lt;path d=&quot;M24.6212 50C35.2903 50 43.9394 47.8971 43.9394 45.303C43.9394 42.709 35.2903 40.6061 24.6212 40.6061C13.9521 40.6061 5.30301 42.709 5.30301 45.303C5.30301 47.8971 13.9521 50 24.6212 50Z&quot; fill=&quot;#D7E6EE&quot; /&gt; &lt;path d=&quot;M45.7576 22.8788C45.7576 11.7494 36.2945 2.72729 24.6212 2.72729C12.9479 2.72729 3.48483 11.7494 3.48483 22.8788H45.7576Z&quot; fill=&quot;#F60A4A&quot; /&gt; &lt;g filter=&quot;url(#filter0_iii)&quot;&gt; &lt;path d=&quot;M45.7576 22.8788C45.7576 11.7494 36.2945 2.72729 24.6212 2.72729C12.9479 2.72729 3.48483 11.7494 3.48483 22.8788H45.7576Z&quot; fill=&quot;#F60A4A&quot; /&gt; &lt;/g&gt; &lt;path d=&quot;M45.7576 22.8788C45.7576 11.7494 36.2945 2.72729 24.6212 2.72729C12.9479 2.72729 3.48483 11.7494 3.48483 22.8788H45.7576Z&quot; stroke=&quot;#25253F&quot; stroke-width=&quot;0.909091&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; /&gt; &lt;path d=&quot;M45.7576 25.3788C45.7576 36.5082 36.2945 45.5303 24.6212 45.5303C12.9479 45.5303 3.48483 36.5082 3.48483 25.3788H45.7576Z&quot; fill=&quot;#F5F5F5&quot; /&gt; &lt;g filter=&quot;url(#filter1_iii)&quot;&gt; &lt;path d=&quot;M45.7576 25.3788C45.7576 36.5082 36.2945 45.5303 24.6212 45.5303C12.9479 45.5303 3.48483 36.5082 3.48483 25.3788H45.7576Z&quot; fill=&quot;#FFFAFA&quot; /&gt; &lt;/g&gt; &lt;path d=&quot;M45.7576 25.3788C45.7576 36.5082 36.2945 45.5303 24.6212 45.5303C12.9479 45.5303 3.48483 36.5082 3.48483 25.3788H45.7576Z&quot; stroke=&quot;#25253F&quot; stroke-width=&quot;0.909091&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; /&gt; &lt;path d=&quot;M24.6212 30.7576C28.2612 30.7576 31.2121 27.8068 31.2121 24.1667C31.2121 20.5267 28.2612 17.5758 24.6212 17.5758C20.9811 17.5758 18.0303 20.5267 18.0303 24.1667C18.0303 27.8068 20.9811 30.7576 24.6212 30.7576Z&quot; fill=&quot;#F5F5F5&quot; /&gt; &lt;path d=&quot;M24.6212 30.7576C28.2612 30.7576 31.2121 27.8068 31.2121 24.1667C31.2121 20.5267 28.2612 17.5758 24.6212 17.5758C20.9811 17.5758 18.0303 20.5267 18.0303 24.1667C18.0303 27.8068 20.9811 30.7576 24.6212 30.7576Z&quot; stroke=&quot;#25253F&quot; stroke-width=&quot;2.42424&quot; /&gt; &lt;g filter=&quot;url(#filter2_i)&quot;&gt; &lt;path d=&quot;M24.6988 27.1944C26.4118 27.1944 27.8004 25.8397 27.8004 24.1685C27.8004 22.4973 26.4118 21.1426 24.6988 21.1426C22.9858 21.1426 21.5971 22.4973 21.5971 24.1685C21.5971 25.8397 22.9858 27.1944 24.6988 27.1944Z&quot; fill=&quot;black&quot; /&gt; &lt;/g&gt; &lt;path d=&quot;M24.6988 27.1944C26.4118 27.1944 27.8004 25.8397 27.8004 24.1685C27.8004 22.4973 26.4118 21.1426 24.6988 21.1426C22.9858 21.1426 21.5971 22.4973 21.5971 24.1685C21.5971 25.8397 22.9858 27.1944 24.6988 27.1944Z&quot; fill=&quot;#F5F5F5&quot; /&gt; &lt;path d=&quot;M24.6988 27.1944C26.4118 27.1944 27.8004 25.8397 27.8004 24.1685C27.8004 22.4973 26.4118 21.1426 24.6988 21.1426C22.9858 21.1426 21.5971 22.4973 21.5971 24.1685C21.5971 25.8397 22.9858 27.1944 24.6988 27.1944Z&quot; stroke=&quot;#25253F&quot; stroke-width=&quot;0.909091&quot; /&gt; &lt;path d=&quot;M16.9697 24.1667H5.45453&quot; stroke=&quot;#25253F&quot; stroke-width=&quot;3.48485&quot; stroke-linecap=&quot;square&quot; /&gt; &lt;path d=&quot;M43.7879 24.1667H32.2727&quot; stroke=&quot;#25253F&quot; stroke-width=&quot;3.33333&quot; stroke-linecap=&quot;square&quot; /&gt; &lt;path fill-rule=&quot;evenodd&quot; clip-rule=&quot;evenodd&quot; d=&quot;M9.08667 17.0202C10.2064 18.264 12.0908 15.077 15.2312 12.2494C18.3717 9.42171 22.455 8.67701 21.3352 7.43323C20.2153 6.18959 15.5908 6.65368 12.4503 9.48126C9.31 12.3088 7.96682 15.7766 9.08667 17.0202V17.0202Z&quot; fill=&quot;white&quot; fill-opacity=&quot;0.6&quot; /&gt; &lt;path fill-rule=&quot;evenodd&quot; clip-rule=&quot;evenodd&quot; d=&quot;M7.83165 18.5216C7.99589 18.3737 8.21214 18.2971 8.43283 18.3087C8.65353 18.3203 8.86059 18.419 9.00847 18.5832L9.14287 18.7326C9.25016 18.8518 9.3077 19.0076 9.30364 19.1679C9.29958 19.3282 9.23424 19.4809 9.12105 19.5944C9.00785 19.7081 8.88859 19.8155 8.76378 19.9163C8.63896 20.017 8.4803 20.066 8.32044 20.0532C8.16058 20.0405 8.01168 19.967 7.90438 19.8478L7.76984 19.6985C7.69661 19.6172 7.64012 19.5222 7.60359 19.4191C7.56707 19.3159 7.55122 19.2065 7.55696 19.0973C7.5627 18.988 7.58992 18.8809 7.63705 18.7821C7.68418 18.6833 7.75031 18.5948 7.83165 18.5216V18.5216Z&quot; fill=&quot;#F9F9F9&quot; fill-opacity=&quot;0.6&quot; /&gt; &lt;defs&gt; &lt;filter id=&quot;filter0_iii&quot; x=&quot;2.87877&quot; y=&quot;2.42426&quot; width=&quot;43.4848&quot; height=&quot;20.7576&quot; filterUnits=&quot;userSpaceOnUse&quot; color-interpolation-filters=&quot;sRGB&quot;&gt; &lt;feFlood flood-opacity=&quot;0&quot; result=&quot;BackgroundImageFix&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in=&quot;SourceGraphic&quot; in2=&quot;BackgroundImageFix&quot; result=&quot;shape&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;-4.54545&quot; dy=&quot;-0.30303&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.30303&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 0.847005 0 0 0 0 0.0443516 0 0 0 0 0.26202 0 0 0 1 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;shape&quot; result=&quot;effect1_innerShadow&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;1.21212&quot; dy=&quot;0.30303&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.30303&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.6 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;effect1_innerShadow&quot; result=&quot;effect2_innerShadow&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;-1.51515&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.227273&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 0.744197 0 0 0 0 0.0275671 0 0 0 0 0.223329 0 0 0 1 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;effect2_innerShadow&quot; result=&quot;effect3_innerShadow&quot; /&gt; &lt;/filter&gt; &lt;filter id=&quot;filter1_iii&quot; x=&quot;2.87877&quot; y=&quot;25.3788&quot; width=&quot;43.4848&quot; height=&quot;20.7576&quot; filterUnits=&quot;userSpaceOnUse&quot; color-interpolation-filters=&quot;sRGB&quot;&gt; &lt;feFlood flood-opacity=&quot;0&quot; result=&quot;BackgroundImageFix&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in=&quot;SourceGraphic&quot; in2=&quot;BackgroundImageFix&quot; result=&quot;shape&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;-4.54545&quot; dy=&quot;1.66667&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.30303&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 0.894118 0 0 0 0 0.913725 0 0 0 0 0.937255 0 0 0 1 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;shape&quot; result=&quot;effect1_innerShadow&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;1.21212&quot; dy=&quot;0.151515&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.30303&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;effect1_innerShadow&quot; result=&quot;effect2_innerShadow&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;-1.51515&quot; dy=&quot;0.757576&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.227273&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 0.763682 0 0 0 0 0.780057 0 0 0 0 0.799706 0 0 0 1 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;effect2_innerShadow&quot; result=&quot;effect3_innerShadow&quot; /&gt; &lt;/filter&gt; &lt;filter id=&quot;filter2_i&quot; x=&quot;21.5971&quot; y=&quot;21.1426&quot; width=&quot;6.50636&quot; height=&quot;6.65788&quot; filterUnits=&quot;userSpaceOnUse&quot; color-interpolation-filters=&quot;sRGB&quot;&gt; &lt;feFlood flood-opacity=&quot;0&quot; result=&quot;BackgroundImageFix&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in=&quot;SourceGraphic&quot; in2=&quot;BackgroundImageFix&quot; result=&quot;shape&quot; /&gt; &lt;feColorMatrix in=&quot;SourceAlpha&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&quot; result=&quot;hardAlpha&quot; /&gt; &lt;feOffset dx=&quot;0.30303&quot; dy=&quot;0.909091&quot; /&gt; &lt;feGaussianBlur stdDeviation=&quot;0.30303&quot; /&gt; &lt;feComposite in2=&quot;hardAlpha&quot; operator=&quot;arithmetic&quot; k2=&quot;-1&quot; k3=&quot;1&quot; /&gt; &lt;feColorMatrix type=&quot;matrix&quot; values=&quot;0 0 0 0 0.807843 0 0 0 0 0.831373 0 0 0 0 0.862745 0 0 0 1 0&quot; /&gt; &lt;feBlend mode=&quot;normal&quot; in2=&quot;shape&quot; result=&quot;effect1_innerShadow&quot; /&gt; &lt;/filter&gt; &lt;/defs&gt; &lt;/svg&gt; &lt;span style=&quot;margin-left: 0.5rem;color: #2A4365;font-family: Avenir; font-size: 24px; font-style: normal; font-weight: 800;&quot;&gt;Pokelib&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div mc:repeatable=&quot;Select&quot; mc:variant=&quot;Title + Full-Width Image + Text Center + Button&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; bgcolor=&quot;#ffffff&quot;&gt;&lt;tr&gt;&lt;td style=&quot;padding: 0px 40px 40px 40px;&quot; class=&quot;p0-15-30&quot;&gt;&lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tr&gt;&lt;td class=&quot;h3 center&quot; style=&quot; color:#444444; font-family:'Yantramanav', Arial, sans-serif; font-size:28px; font-weight:300; line-height:37px;padding-bottom: 30px; text-align:center;&quot;&gt; Your verification code is {####}.&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;"
      Policies:
        PasswordPolicy:
          MinimumLength: 8
          RequireLowercase: true
          RequireNumbers: true
          RequireSymbols: false
          RequireUppercase: false
          TemporaryPasswordValidityDays: 1

  CognitoUserPoolClient:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      # Generate an app client name based on the stage
      ClientName: ${self:custom.stage}-user-pool-client
      UserPoolId:
        Ref: CognitoUserPool
      ExplicitAuthFlows:
        - ADMIN_NO_SRP_AUTH
      GenerateSecret: false

# Print out the Id of the User Pool that is created
Outputs:
  UserPoolId:
    Value:
      Ref: CognitoUserPool

  UserPoolClientId:
    Value:
      Ref: CognitoUserPoolClient